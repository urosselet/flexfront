<div id="chatbot-component">
    <h1>Analyse de vos besoins</h1>

    <div class="chat_window">

        <div class="messages" ngx-auto-scroll>

            <div class="message left appeared">
                <div class="avatar">
                     <img type="image/svg+xml" [src]="'assets/images/avatar.svg'" width="50" height="50" />
                </div>
                <div class="text_wrapper">
                    <div class="text">Welcome to Flexcrowd, how can we help ?</div>
                </div>
            </div>

            <div *ngFor="let question of questions let i = index; ">
                
                <div class="message right appeared">
                    <div class="avatar"></div>
                    <div class="text_wrapper">
                        <div class="text">{{ question.text }}</div>
                    </div>
                </div>

                <div class="message left appeared" *ngIf="!answers[i] && question" >
                    <div class="avatar">
                        <img type="image/svg+xml" [src]="'assets/images/avatar.svg'" width="50" height="50" />
                    </div>
                    <div class="text_wrapper">
                        <div class="text">
                            <div class="typing-container">
                                <div class="typing-indicator"></div>
                                <div class="typing-indicator"></div>
                                <div class="typing-indicator"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="message left appeared" *ngIf="answers[i]">
                    <div class="avatar"></div>
                    <div class="text_wrapper">
                        <div class="text">
                            <p *ngFor="let item of answers[i]">{{ item.q }}</p>
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <div class="bottom_wrapper clearfix">

            <div class="message_input_wrapper">
                <!--
                <input class="message_input" placeholder="How can I help you ?" [(ngModel)]="query" (keyup.enter)="search()" />
                -->
                <input class="message_input" placeholder="How can I help you ?" list-formatter="text" min-chars="2" ngui-auto-complete (keyup.enter)="search()" [(ngModel)]="query" [source]="observableSource.bind(this)" />
            </div>

            <div class="send_message">
                <div class="text" (click)="search()">Send</div>
            </div>

        </div>
        
    </div>
</div>